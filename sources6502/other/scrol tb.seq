         *= $0D00;---------------------------------------VEC      = $02VEC2     = $20GEN      = $4800TEXT     = $6000;---------------------------------------TYK      SEI         JSR DISP         LDA #$7F         STA $DC0D         LDX #$00         STX $DC0E         INX         STX $D01A         LDA #$3B         STA $D011         LDA #$F8         STA $D012         LDA #>IRQ         LDX #<IRQ         STA $0315         STX $0314         JSR ON         JSR USTVEC         JSR $1000         CLISTOP     JMP STOP;---------------------------------------IRQ      LDX #7L1       DEX         BNE L1         NOP         NOP         LDX #$1AL2       BIT $EA         DEC $D016         INC $D016         LDY $D012         DEY         NOP         TYA         AND #$07         ORA #$38         STA $D011         NOP         NOP         NOP         NOP         DEX         BPL L2         LDA #$3B         STA $D011         LDA #1         STA $D019         JSR SCROL1         JSR $1003         LDA #1         STA $D019         JMP $EA7E;---------------------------------------;---------------------------------------ON       LDA #$FF         STA $D015         LDX #0LOOP1    LDA TAB,X         STA $D000,X         INX         CPX #16         BNE LOOP1         LDX #0LOOP2    LDA TAB1,X         STA $07F8,X         INX         CPX #8         BNE LOOP2         LDX #1         STX $D027         STX $D028         STX $D029         STX $D02A         STX $D02B         STX $D02C         STX $D02D         STX $D02E         LDA #0         STA $D020         STA $D021         LDX #0         LDA #$00LP       STA $0800,X         STA $0900,X         INX         BNE LP         LDX #63LP1      STA $03C0,X         DEX         BNE LP1         LDA #128+64         STA $D010         LDA #$FF         STA $D01D         RTS;---------------------------------------TAB      .BYTE 0,$F7,48,$F7         .BYTE 96,$F7,144,$F7         .BYTE 192,$F7,240,$F7         .BYTE 32,$F7,80,$F7TAB1     .BYTE $27,$26,$25,$24         .BYTE $23,$22,$21,$20;---------------------------------------LROL     NOP         LDX #0LOOP3    ASL $03C2,X         ROL $03C1,X         ROL $03C0,X;-----1---------------------------------         ROL $0802,X         ROL $0801,X         ROL $0800,X;-----2---------------------------------         ROL $0842,X         ROL $0841,X         ROL $0840,X;-----3---------------------------------         ROL $0882,X         ROL $0881,X         ROL $0880,X;-----4---------------------------------         ROL $08C2,X         ROL $08C1,X         ROL $08C0,X;-----5---------------------------------         ROL $0902,X         ROL $0901,X         ROL $0900,X;-----6---------------------------------         ROL $0942,X         ROL $0941,X         ROL $0940,X;-----7---------------------------------         ROL $0982,X         ROL $0981,X         ROL $0980,X;-----8---------------------------------         ROL $09C2,X         ROL $09C1,X         ROL $09C0,X;---------------------------------------         TXA         CLC         ADC #$03         TAX         CPX #63         BNE LOOP3         RTS;---------------------------------------;---------------------------------------ZNAK     PHA         LDA #0         STA VEC+1         PLA         CLC         ASL A         ROL VEC+1         ASL A         ROL VEC+1         ASL A         ROL VEC+1         STA VEC         LDA VEC+1         CLC         ADC #>GEN         STA VEC+1         RTS;---------------------------------------TRANS    NOP         LDY #0         LDX #0         LDA #$33         STA $01LOOP4    LDA (VEC),Y         STA $03C9,X         INX         INX         INX         INY         CPY #8         BNE LOOP4         LDA #$36         STA $01         RTS;---------------------------------------TRANS2   LDA #$33         STA $01         LDY #0         LDX #0LP0      LDA (VEC),Y         STA $03E1,X         INX         INX         INX         INY         CPY #8         BNE LP0         LDA #$36         STA $01         RTS;---------------------------------------USTVEC   LDA #>TEXT         LDX #<TEXT         STA VEC2+1         STX VEC2         RTS;---------------------------------------INCVEC   INC VEC2         BNE LOOP5         INC VEC2+1LOOP5    RTS;---------------------------------------TAB3     .BYTE 1,1,1,15,15,15,11,11,11         .BYTE 0,0,0,11,11,11,15,15,15SCROL1   LDX #20         LDA TAB3,X         STA $D027         STA $D028         STA $D029         STA $D02A         STA $D02B         STA $D02C         STA $D02D         STA $D02E         DEX         STX SCROL1+1         BNE OP1         LDA #20         STA SCROL1+1OP1      LDA $DC01         CMP #$EF         BNE SCROL         RTSSCROL    LDA #0         BEQ LOOP6         JSR LROL         JSR LROL         DEC SCROL+1         RTSLOOP6    LDA #3         STA SCROL+1         LDY #0LOOP8    LDA (VEC2),Y         BEQ LOOP7         PHA         JSR ZNAK         JSR TRANS         PLA         CLC         ADC #$80         JSR ZNAK         JSR TRANS2         JSR INCVEC         JSR LROL         JSR LROL         RTSLOOP7    LDA #>TEXT         LDX #<TEXT         STA VEC2+1         STX VEC2         JMP LOOP8;---------------------------------------DISP     LDA #$3B         STA $D011         LDA #$D8         STA $D016         LDA #$1E         STA $D018         LDA $4328         STA $D020         LDA $4329         STA $D021         LDX #$00P1       LDA $3F40,X         STA $0400,X         LDA $4040,X         STA $0500,X         LDA $4140,X         STA $0600,X         LDA $4240,X         STA $0700,X         LDA $4338,X         STA $D800,X         LDA $4438,X         STA $D900,X         LDA $4538,X         STA $DA00,X         LDA $4638,X         STA $DB00,X         INX         BNE P1         RTS